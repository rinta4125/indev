<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">


  <title></title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css">
  <script src="//rawgit.com/k4r573n/leaflet-control-osm-geocoder/master/Control.OSMGeocoder.js"></script>
  <link rel="stylesheet" href="//rawgit.com/k4r573n/leaflet-control-osm-geocoder/master/Control.OSMGeocoder.css">
  <style>
    #mapid {
      height: 400px;
      width: 400px;
    }

    .center-icon {
      width: 12px !important;
      height: 12px !important;
      border-radius: 12px;
      border: 3px solid #fdfdfd;
      box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);
      background-color: #1E90FF;
    }
  </style>
</head>

<body>
  <h1>☀熱中症対策アプリhjcycycu☀</h1>
  <div>
    <h2 style="display:inline;">クールマップ</h2>
    <input id="mitei" type="text" />
    <button id="search">検索</button>
  </div>

  <div>
    <button class="click" id=home>ホーム</button>
    <button class="click" id="wear">コーディネート</button>
    <!--服装共有用SNS(?)に移動-->
    <button class="click" id="map">クールマップ</button>
    <!--涼が取れる施設を表示するマップに移動-->

    <div id="mapid"></div>

    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
    <script type="text/javascript">
      var mymap = L.map('mapid', {
        center: [35.710063, 139.8107],
        zoom: 16
      });

      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution: "&copy; <a href='http://osm.org/copyright'>OpenStreetMap</a> contributors, <a href='http://creativecommons.org/licenses/by-sa/2.0/'>CC-BY-SA</a>"
      }).addTo(mymap);

	  //位置情報を取得
	  //navigator.geolocation.getCurrentPosition(success, error);

	  //位置情報の取得に成功したら
	  async function success(position) {
		var lat = position.coords.latitude; //緯度
		var lon = position.coords.longitude; //経度
			



      function onLocationFound(e) {
        var centerIcon = L.divIcon({ className: 'center-icon', iconAnchor: [8, 8] });
        L.marker(e.latlng, { icon: centerIcon }).addTo(mymap);
      }
      function onLocationError(e) {
        alert('位置情報を取得できませんでした。' + e.message);
      }
      mymap.on('locationfound', onLocationFound);
      mymap.on('locationerror', onLocationError);
      mymap.locate({ setView: true, maxZoom: 16, timeout: 20000 });

	  L.marker(e.latlng)
		.addTo(mymap)
		.bindPopup("スカイツリーはここ！")
		.openPopup();
    </script>

    <p>右に施設の選択画面があってクリックすると詳細がみれる?</p>


    <a href="https://www.wbgt.env.go.jp/wbgt_data.php"> 環境省 熱中症予防情報サイト</a>
    <!--参考元-->
    <a href="https://tenki.jp/">tenki.jp/ </a>

    <script type="module">
      window.onload = async (event) => {
      };

      document.querySelector("#home").onclick = async (event) => {//homeボタンが押されたときの挙動
        location.href = 'index.html';//homeのページに移動
      }

      document.querySelector("#wear").onclick = async (event) => {//コーディネートボタンが押されたときの挙動
        location.href = 'coordination.html';//コーディネートのページに移動
      }

    </script>

    <style>
      h1 {
        color: red
      }

      h2 {
        color: cyan
      }
    </style>
  </div>
</body>

</html>
